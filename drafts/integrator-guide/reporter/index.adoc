include::ROOT:partial$variables.adoc[]

= Reporter
:description: {PRODUCT_NAME} reporter allows you to create custom reports with compose and other system resources
:keywords: low-code, reporting, reporter, reports, report, {PRODUCT_NAME}

{PRODUCT_NAME} reporter allows you to create custom reports with compose and system resources similar to the compose page builder.
If you wish to learn more about a specific topic, refer to the subsections under menu:Integrator Guide[{PRODUCT_NAME} reporter].

== Creating a report
To create a report using the {PRODUCT_NAME} reporter, you must first navigate to the reporter application.

Once the reporter is opened you will see a list of existing reports. On the top of the list, click the `New Report` button.

Fill in the form with the Name and Handle of your liking and possibly add a description. Once ready click `Save`.
In the top right corner of the screen a new `Report Builder` button will appear. Click that to start building the report.

== Building a report
The report builder consists of three main parts; datasources, blocks and their respective display elements.

. *Datasources* configurable by clicking the `Datasources` button in the top right side of the screen.
. *Blocks* make up a report, they consist of multiple display elements.
. *Display elements* provide different ways of displaying data.

.Report builder user interface:
image:reporter/ui.png[]

== Datasources
Datasources are used to retrieve the data you want for a specific report. They can be configured to your liking to ensure you can display the things you want. 

Firstly you will have to decide what kind of data you wish to display in the report. Once you're ready click the `Datasources` button in the top right corner of the screen. You will see a list of all available datasources on the left side. Click `Add` to select a new datasource type.

[IMPORTANT]
====
Every datasource has a name that must be unique amongst other datasources. This name will help you reference the datasource in the report.
====

=== Load
Loads data from a specified source, such as `Compose records`. You can also prefilter or presort the selected data.
More on xref:reporter/prefilter.adoc[prefiltering] and xref:reporter/presort.adoc[presorting] 

The `Compose records` source needs further configuration. You must provide a namespace aswell as a module that the records will be loaded from.

.Example configuration:
image:reporter/load.png[]

=== Join
Joins two load datasources with a unique column that links them together.

For example lets say we have two load resources that load `Accounts` and `Contacts`.
With the join datasource, we can display all accounts and their related contacts. 
First you have to select a primary source, in our example that would be `Accounts` load datasource. Then select the Secondary source(`Contacts`).

After you have selected the desired sources, match the columns that share the unique column that links the two sources together. In our case those are the `Account Name` and `Record ID` columns.

.Example configuration:
image:reporter/join.png[]

=== Group
Groups data from a load datasource based on a column value and aggregates it.

Under the `Group by` section, you can define new columns that will be evaluated based on their expression. For example the `Account Source` field. You can create a new column with the name; `source`, label; `Source` and expression `AccountSource`. This will group the rows with the same values for the column `Account Source`.

Under the `Aggregate` section you can define new columns that will be aggregated based on their expression. For example lets define a new column named `count`, label; `Count` and with the expression `count()`. This will count all of the rows that have the same value for the field `AccountSource`. Refer to the `Aggregation` section in xref:reporter/expr-reference.adoc[here]

.Example configuration:
image:reporter/group.png[]

== Blocks
These are the different sections of the report similar to page blocks on the page builder.
Blocks by themselves are only empty cards with a possible title and description. The content for the block is exclusively provided by the display element.

You can change the layout of the block from horizontal to vertical to affect the orientation in which the display elements are displayed.
If there is more than one display element in the block, you can resize them. The size is saved, but can be altered when viewing.

Click the plus icon to add a display element, or click the edit icon to configure the block.

image:reporter/block.png[]


== Display elements
They are the interface with which you can display the data generated by datasources and other unrelated data.
Different types of display elements require different data. Some of them can be used without any datasources.
Those who do use datasources, can have them prefiltered/presorted based on their needs.

=== Text
You can display the text data you desire with this display element. It is configured with the `Rich Text Editor` which like the name suggests allows for rich text. This is mainly used to either describe the function of a certain Block or the report in general.
Its best used as an accompanied display element inside a Block, next to a Table/Chart

=== Metric
Similar to the Compose metric, it can be used to display a number or important text inside a Block. But the difference between this and the test block is the number must come from a datasource column.

For example lets say you want to display the number of `Account` records.
First you would define a `Group` datasource that counts the number of records. In the `Metric` configuration, make sure to select the column that holds the number of records, in our case that is `Total`. 

You can also change the way the data is displayed. You can either format it, add a prefix/suffix or even make it a different color.

.Example configuration:
image:reporter/metric-configuration.png[]

=== Table
It provides a way to show simple and complex datasource data. All datasource types are supported.

The datasources section in the configurator dictates how each Datasource will be prefiltered/presorted and paginated. 
You could also do this on the datasource configurator itself, but that would be applied to all display elements that use it. 
This way you can fine tune the data displayed for this display element only.

In the Element configurator you can now proceed to pick the columns you wish to display from their respective datasources.

[NOTE]
====
If you are working with a `Join` datasource, you will have to have to pick the columns for each joined datasource
====

Underneath the column selector, you can fine tune display of the table element.
The variant options change the color of the table, while the checkbox options change the way the table looks in other ways.

.Example configuration:
image:reporter/table-configuration.png[]

=== Chart
Provides a way to visually present the selected datasource data. All datasource types are supported.
You can choose from a number of different types of charts that best suit your need.

- *Bar* supports all datasource types
- *Line* supports all datasource types
- *Pie* supports all datasource types
- *Doughnut* supports all datasource types
- *Funnel* supports only `Group` datasources

[IMPORTANT]
====
To use the `Funnel` chart properly, you must use the `Group` datasource to group by a field with a select number of possible values. The aggregation columns should then be used for the data columns for the data to display properly.
====

You can pick from a number of different colorschemes that match your use case. Beware that some are intended for a certain number of elements before the colors repeat. For instance, the `Bar` and `Line` chart will use a different color for each column picked. While other types use each color for a different value.

First pick a label column from the datasource columns, this value will be used to identify the values from the datasource.
Note that only columns of type String can be used for this.

Then pick the columns you wish to display in the chart. Note that only columns of type `Number` can be used for this.

[NOTE]
====
If you are working with a `Join` datasource, you will have to have to pick the columns for each joined datasource
====

.Example configuration:
image:reporter/chart-configuration.png[]